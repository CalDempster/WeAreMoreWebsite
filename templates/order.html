<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Preorder</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="{{ url_for('static',filename='css/style.css')}}">
    <link rel="stylesheet" href="{{ url_for('static',filename='css/productCards.css')}}">
    <link rel="stylesheet" href="{{ url_for('static',filename='css/hamburger.css')}}">
    <link rel="stylesheet" href="{{ url_for('static',filename='css/socialMedia.css')}}">
    <link rel="stylesheet" href="{{ url_for('static',filename='css/order.css')}}">   

    <!-- favicon -->
    <link rel="icon" type="image/x-icon" href="favicon/favicon.ico">

    <!-- icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <script>
        function showComingSoonMessage() {
            alert("Coming Soon! Thank you for your interest in our products. We will get back to you as soon as possible.");
            document.getElementById("FirstName").value = " ";
            document.getElementById("Surname").value = " ";  
            document.getElementById("Email").value = " ";
            
        }
        function toggleMenu() {
            var menu = document.getElementById("dropdownMenu");
            if (menu.style.maxWidth) {
                menu.style.maxWidth = null;
            } else {
                menu.style.maxWidth = "200px";
            }
        }

        function sendEmail() {
            const formData = new FormData();
            formData.append('FirstName', document.getElementById('FirstName').value);
            formData.append('Surname', document.getElementById('Surname').value);
            formData.append('Email', document.getElementById('Email').value);
            formData.append('Product', document.getElementById('Product').value);
            formData.append('Enquiry', document.getElementById('Enquiry').value);

            fetch('http://127.0.0.1:5000/send_email', {
                method: 'POST',
                body: formData
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }
                return response.json();
            })
            .then(data => {
                alert(data.message || data.error);
            })
            .catch(error => {
                alert("Something went wrong! " + error.message);
                console.error("Fetch Error:", error);
            });
        }
    </script>
</head>
<body>
    <nav class="topnav" id="topnav">
        <h1>Make a Preorder</h1>
        </nav>
        <!-- First name, surname and email are all basic entry boxes then the products are just a dropdown
        Have not done where they will be directed to -->
        
        <form method="POST" onsubmit="event.preventDefault(); sendEmail();">      
            <label for="FirstName">First Name:</label>
             <textarea id="FirstName" name="FirstName" rows="1" cols="30"></textarea>
             <label for="Surname">Surname:</label>
             <textarea id="Surname" name="Surname" rows="1" cols="30"></textarea>
             <label for="Email">Email:</label>
             <textarea id="Email" name="Email" rows="1" cols="30"></textarea>

             <label for="Product">What Product are You Ordering?</label>
             <select name="Product" id="Product">
               <option value="USBHolderKeyring">USB Holder Keyring</option>
               <option value="WiredBracelet">Wired Bracelet</option>
               <option value="ConnectedCoaster">Connected Coaster</option>
             </select>
             <label for="Enquiry">What Jewellery/Items Would You most like to see in future?</label>
             <select name="Enquiry" id="Enquiry">
             <option value="Ring">Rings</option>
             <option value="Bracelet">Bracelets</option>
             <option value="Necklace">Necklaces</option>    
             <option value="Earrings">Earrings</option>         
             <option value="Keyrings">Keyrings</option>
             </select>
             <input type="submit" value="Submit">
           </form>
           <footer>
            Made by: M.O.R.E(The team)
    
              <div class="miniNav">
                <a href="index.html">Home</a>
                <a href="about.html">About</a>
                <a href="products.html">Products</a>
                <a href="order.html" class="active">Make a Preorder</a></div>
                <div class="social-icons">
                    <a href="https://www.facebook.com/profile.php?id=61567936601011" class="fa fa-facebook"></a>
                    <a href="https://www.instagram.com/wearemore_eco" class="fa fa-instagram"></a>
                    <a href="https://x.com/wearemore_eco" class="fa fa-twitter"></a>
                </div>
           </footer>
</body>
</html>

